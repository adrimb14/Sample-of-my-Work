<html>
   <head>
      <title> Climb Your Project 2020</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.9.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.0.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.2.1"></script>
      <style>
         body {
         font-family: sans-serif;
         }
      </style>
   </head>
   <body>
      <table style="width: 850px;" cellspacing="5" cellpadding="5">
         <tbody>
            <tr>
               <td style="width: 200px; vertical-align: top;"><strong>Name:&nbsp;</strong></td>
               <td style="vertical-align: top;">Climb Your Project 2020</td>
            </tr>
                       <tr>
               <td style="vertical-align: top;"><strong>Dataset description:</strong></td>
               <td style="vertical-align: top;"> The following data set contains the main climbing spots in Tenerife by the number of routes of each difficulty. This graph is the result of my work of storing data from different climbing guides to create an interactive visualization of the climbing route in my hometown. On the left, you can observe different climbing spots: sectors. On the rigth, you can see the difficulty of the grades. Now, choose the climbing sector that suits you better! </td>
            </tr>
            <tr>
               <td style="vertical-align: top;"><strong>Interactivity</strong></td>
               <td style="vertical-align: top;">
            </tr>
         </tbody>
      </table>
      <hr />
      <div id="vis"></div>
      <hr />
      <table style="width: 850px;" cellspacing="5" cellpadding="5">
         <tbody>
            
            </tr>
         </tbody>
      </table>
      <script type="text/javascript">
        var yourVlSpec ={
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "description": "A dashboard with cross-highlighting.",
  "data": {"url": "https://raw.githubusercontent.com/adrimb14/ClimbingTenerife/main/Tenerife"},
  "hconcat": [
    {
      "layer": [{
        "transform": [{
          "filter": {"selection": "pts"}
        }],
        
  "height": {"step": 24.5},
  "mark":{ 
    "type":"bar",
    "stroke": "white", 
    "fill": "#ff9900",
    "cursor": "pointer"},
    "selection": {
        "Sectors": {"type": "single", "fields": ["Sector"]}
      },

  "encoding": {
    "y": {
      "field": "Sector",
      "type": "nominal",
      "sort":"-x",
      "axis": {
            "titleFontSize": 15,
            "title": "Sectors",
            "minExtent": 30,
            "labelFontSize":12}
    },
    "fillOpacity": {
      "condition": {"selection": "Sectors", "value": 1},
      "value": 0.3},
    "x": {
      "aggregate": "count",
      "field": "Grado_estandarizado",
      "axis": {
            "titleFontSize": 15,
            "title": "Number of routes",
            "minExtent": 30,
            "labelFontSize":12}
    }      
  }
      }]
    }, 
    
    
    {
      "layer": [{
        "transform": [{
          "filter": {"selection": "Sectors"}
        }],
  "height": {"step": 20},
  "mark":{ 
    "type":"bar",
    "stroke": "white",
    "cursor": "pointer"},

"selection": {
        "pts": {"type": "single", "fields": ["Grado_estandarizado"]}
      },

  "encoding": {
    "y": {
      "field": "Grado_estandarizado",
      "type": "ordinal",
      "axis": {
            "titleFontSize": 15,
            "title": "Grades",
            "minExtent": 30,
            "labelFontSize":12}
    },
    "x": {
      "aggregate": "count",
      "field": "Grado_estandarizado",
      "axis": {
            "titleFontSize": 15,
            "title": "Number of routes",
            "minExtent": 30,
            "labelFontSize":12}
    },
    "color":{
      "field": "Grado_estandarizado",
      "type": "ordinal",
      "legend":null
    },
    "fillOpacity": {
      "condition": {"selection": "pts", "value": 1},
      "value": 0.3} 
  }

    }]
    }
  ],
  "resolve": {
    "legend": {
      "color": "independent",
      "size": "independent"
    }
  }
}





            vegaEmbed("#vis", yourVlSpec);
      </script>
   </body>
</html>